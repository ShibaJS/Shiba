<Page
    x:Class="Shiba.UWP.Sample.MainPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Shiba.UWP.Sample"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:shiba="using:Shiba"
    mc:Ignorable="d">

    <Grid Background="{ThemeResource ApplicationPageBackgroundThemeBrush}" >
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <shiba:ShibaHost Name="host" DataContext="{x:Bind Json}">
            text -> $bind ${
                if (it === null) return null;
                return it.hello.world
            }
        </shiba:ShibaHost>
        <TextBox Grid.Row="1" Name="text" TextChanged="TextBox_OnTextChanged" AcceptsReturn="True">
            <TextBox.Text>
                text -> $bind ${
                if (it === null) return null;
                return it.hello.world
                }
            </TextBox.Text>
        </TextBox>
        <Button Margin="8" HorizontalAlignment="Right" VerticalAlignment="Bottom" Click="ButtonBase_OnClick" Content="Go Streaming!"/>
    </Grid>
</Page>